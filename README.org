#+title: Nix Documentation
#+author: Nick Hardbarger
#+date: [2025-2-11]
#+caption: my desktop
[[./desktop.png]]
* Installation
Note: this system is only intended to be installed by me!

To install nix on a fresh NixOS system, run these commands:

+ Add git to shell:
#+BEGIN_SRC shell
nix-shell -p git
#+END_SRC

+ In home directory, clone the repo:
#+BEGIN_SRC shell
git clone https://github.com/NickHardbarger/nix.git
#+END_SRC

+ Activate configuration:
#+BEGIN_SRC shell
sudo nixos-rebuild switch --flake ~/nix#<host-name>
#+END_SRC

+ Reboot:
#+BEGIN_SRC shell
reboot
#+END_SRC

+ You can now log in as normal
  
** Optional: adding ssh

** Optional: adding a new user
+ Move the hardware configuration into this directory:
#+BEGIN_SRC shell
mkdir ~/nix/system/<host-name>
sudo mv /etc/nixos/hardware-configuration.nix ~/nix/system/<host-name>/
cd ~/nix/system/<host-name>
mv hardware-configuration.nix <host-name>.nix
#+END_SRC

+ Add the new host into flake.nix. Then, rebuild the system:
#+BEGIN_SRC shell
sudo nixos-rebuild switch --flake ~/nix#<host-name>
#+END_SRC

* Todos:

** TODO Add multihost support [1/3]
- [X] t420 host
- [ ] gaming pc host
- [ ] work pc host
- [ ] server host
  
** TODO Rice dwl [1/2]
- [X] set the initial colorscheme
- [ ] change around colors
  
** TODO Add Disko and Impermanence
** TODO Update installation guide

** TODO Features
- need to document system features
  
** TODO Project Goals
- should explain my goals and motivations
